<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>js24_domadd_createtable</title>
<style type="text/css" >
	table{
		border-collapse: collapse;
	}
</style>
<script type="text/javascript">
	
	//1.10개까지만 입력되도록 처리하기(alert():10개까지만 추가가 가능합니다.)
	//2.입력이 안된 목록알려주기(alert(): 모두 입력해야합니다(id,pw(가 입력이 안됐다고 공지 ))) //
	var fCount=0;
	function tableVal(){
 		var inputs=document.querySelectorAll("input[name]");
 		//inputs[i].value:각각의 요소에 접근해서 값을 구할 수 있다
		console.log(inputs[0].value);
		
		//tr(td4개)객체 만들어주는 코드
		/*
		var tr=document.createElement("tr"); //tr1개 생성
		for(var i=0;i<inputs.length;i++){
			var td=document.createElement("td"); //<td></td>
			td.textContent=inputs[i].value; //<td>id(입력값)</td>
			tr.appendChild(td); //<tr>td객체 추가</tr>
		}
		*/
		
		//입력을 안했을 경우:값이 "" -->개수를 출력해보기
		
		var count=0;
		var msg=""; //입력 안된 목록 저장하기
		//count>0
		//코드 작성
		for(var i=0;i<inputs.length;i++){
			if(inputs[i].value==""||inputs[i].value==null||inputs[i].value==undefined){
				count++;
				msg+=inputs[i].parentNode.previousElementSibling.textContent+",";	
			}
		}
		realMsg=msg.substring(0,msg.lastIndexOf(","));
		/*내가 푼거 함수밖에 전역변수 fcount쓰기
		if(count>0){
			alert("모두 입력해야합니다("+realMsg+")");
			for(var i=0;i<inputs.length;i++){
			inputs[i].value="";
		}
		}else{
			if(fCount>=10){
				alert("10개까지만 입력가능합니다.");
			}else{
				var tr=createTr(inputs); //inputs-->input요소를 배열형태로 전달
				document.getElementById("addtr").appendChild(tr);
				fCount++;
			}
			for(var i=0;i<inputs.length;i++){
				inputs[i].value="";
			}
		}
		*/
		
		//강사님 답안
		if(count>0){
			alert("모두 입력해야합니다("+realMsg+")");
			for(var i=0;i<inputs.length;i++){
			inputs[i].value="";
		}
		}else{
			var tbodyCount=document.getElementById("addtr").childElementCount;
			if(tbodyCount<10){
				//회원 목록에 회원정보를 추가해주는 코드
				var tr=createTr(inputs); //inputs-->input요소를 배열형태로 전달
				document.getElementById("addtr").appendChild(tr);
			}else{
				alert("10개까지만 입력가능합니다.");
			}
			for(var i=0;i<inputs.length;i++){
				inputs[i].value="";
			}
		}
		
		
		
		
		//var tr=createTr(inputs); //inputs-->input요소를 배열형태로 전달
		//document.getElementById("addtr").appendChild(tr);
		
		/*
		//입력하면 텍스트박스 안의 값 초기화 시키기
		for(var i=0;i<inputs.length;i++){
			inputs[i].value="";
		}
		*/
			
	}
	
	//tr을 생설해주는 함수:입력값을 받아서 tr을 생성해주는 기능
	function createTr(inputs){
		var tr=document.createElement("tr"); //tr1개 생성			
		for(var i=0;i<inputs.length;i++){
			var td=document.createElement("td"); //<td></td>
			td.textContent=inputs[i].value; //<td>id(입력값)</td>
			tr.appendChild(td); //<tr>td객체 추가</tr>
		}
		return tr;
	}
</script>
</head>
<body>
<form name="fromTest">
	<table border="1">
		<caption>회원정보입력</caption>
		<col width="100px"><col width="300px">
		<thead></thead>
		<tr>
			<th>아이디</th>
			<td><input type="text" name="id"/></td>
		</tr>
		<tr>
			<th>비밀번호</th>
			<td><input type="password" name="pw"/></td>
		</tr>
		<tr>
			<th>주소</th>
			<td><input type="text" name="addr"/></td>
		</tr>
		<tr>
			<th>전화번호</th>
			<td><input type="tel" name="phone"/></td>
		</tr>
		<tr>
			<td colspan="2"><input type="button" value="추가" onclick="tableVal()"/></td>
		</tr>
	</table>
</form>
<div id="addTable">
	<table border="1" id="ctb">
		<caption>회원정보목록</caption>
		<col width="100px"><col width="100px"><col width="300px"><col width="200px">
		<thred>
			<tr>
				<th>아이디</th>
				<th>비밀번호</th>
				<th>주소</th>
				<th>전화번호</th>
			</tr>
		</thred>
		<tbody id="addtr">
<!--			<tr>-->
<!--				<th>id</th>-->
<!--				<th>pw</th>-->
<!--				<th>주소</th>-->
<!--				<th>전화번호</th>-->
<!--			</tr>-->
		</tbody>
	</table>	
</div>
</body>
</html>